models:
  - name: "flan-t5-small"
    type: "huggingface"
    model_path: "google/flan-t5-small"
    local_dir: "./models/flan-t5-small"
    model_class: "seq2seq"
    generation_kwargs:
      max_new_tokens: 64
      do_sample: false


tasks:
  - name: "qa-sciq-mini"
    dataset: "sciq"
    split: "validation"
    prompt_template: |
      Answer the question in 1-4 words.
      Question: What gas do plants absorb from the atmosphere?
      Answer: carbon dioxide
      Question: Who proposed the theory of evolution by natural selection?
      Answer: Charles Darwin
      Question: {question}
      Answer:
    input_mappings:
      question: "question"
    reference_field: "correct_answer"
    metrics: ["rouge"]
    sample_size: 8
    generation_kwargs:
      max_new_tokens: 8
      do_sample: false

  - name: "agnews-mini"
    dataset: "ag_news"
    split: "test"
    prompt_template: |
      Choose exactly one label: World, Sports, Business, Sci/Tech.
      Text: The team won the championship after a thrilling final match.
      Label: Sports
      Text: The central bank raised interest rates to fight inflation.
      Label: Business
      Text: {text}
      Label:
    input_mappings:
      text: "text"
    reference_field: "label"
    label_map: ["World", "Sports", "Business", "Sci/Tech"]
    prediction_postprocess:
      after: "Label:"
    metrics: ["accuracy"]
    sample_size: 50
    generation_kwargs:
      max_new_tokens: 3
      do_sample: false

evaluation:
  batch_size: 2
  max_concurrent: 2
  output_dir: "runs"
  prediction_sample_size: 10
  save_detailed: true
  max_detailed_examples: 50
